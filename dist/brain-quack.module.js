function ownKeys(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(e,t,r){if(t.has(e))return r;throw new TypeError("attempted to get private field on non-instance")}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function _classPrivateFieldSet(e,t,r){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),r),r}function _classExtractFieldDescriptor(e,t,r){if(t.has(e))return t.get(e);throw new TypeError("attempted to "+r+" private field on non-instance")}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var INITIAL_MEM_CELLS=3e4,_memory=new WeakMap,_program=new WeakMap,_input=new WeakMap,_state=new WeakMap,_reducer=new WeakSet,_jumpBackward=new WeakSet,_jumpForward=new WeakSet,BrainQuack=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,r),_classPrivateMethodInitSpec(this,_jumpForward),_classPrivateMethodInitSpec(this,_jumpBackward),_classPrivateMethodInitSpec(this,_reducer),_classPrivateFieldInitSpec(this,_memory,{writable:!0,value:Array(INITIAL_MEM_CELLS).fill(0)}),_classPrivateFieldInitSpec(this,_program,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_input,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_state,{writable:!0,value:{pPtr:0,mPtr:0,iPtr:0,output:""}}),_classPrivateFieldSet(this,_program,e),_classPrivateFieldSet(this,_input,t)}return _createClass(r,[{key:"program",get:function(){return _classPrivateFieldGet(this,_program)},set:function(e){_classPrivateFieldSet(this,_program,e)}},{key:"input",get:function(){return _classPrivateFieldGet(this,_input)},set:function(e){_classPrivateFieldSet(this,_input,e)}},{key:"interpret",value:function(){for(;_classPrivateFieldGet(this,_state).pPtr<_classPrivateFieldGet(this,_program).length;)_classPrivateFieldSet(this,_state,_classPrivateMethodGet(this,_reducer,_reducer2).call(this,_classPrivateFieldGet(this,_state)));return this}},{key:"dump",value:function(){return Object.freeze({program:_classPrivateFieldGet(this,_program),input:_classPrivateFieldGet(this,_input),memory:_toConsumableArray(_classPrivateFieldGet(this,_memory)),output:_classPrivateFieldGet(this,_state).output})}}]),r}();function _reducer2(e){var t=e.iPtr,r=e.mPtr,a=e.pPtr,i=e.output;switch(_classPrivateFieldGet(this,_program)[a]){case"+":return _classPrivateFieldGet(this,_memory)[r]+=1,_objectSpread(_objectSpread({},e),{},{pPtr:a+1});case"-":return--_classPrivateFieldGet(this,_memory)[r],_objectSpread(_objectSpread({},e),{},{pPtr:a+1});case"<":return _objectSpread(_objectSpread({},e),{},{pPtr:a+1,mPtr:0<=r-1?r-1:r});case">":return _objectSpread(_objectSpread({},e),{},{pPtr:a+1,mPtr:r+1});case",":return t<_classPrivateFieldGet(this,_input).length&&(_classPrivateFieldGet(this,_memory)[r]=_classPrivateFieldGet(this,_input).charCodeAt(t)),_objectSpread(_objectSpread({},e),{},{pPtr:a+1,iPtr:t+1});case".":return _objectSpread(_objectSpread({},e),{},{pPtr:a+1,output:i+String.fromCharCode(_classPrivateFieldGet(this,_memory)[r])});case"[":return _objectSpread(_objectSpread({},e),{},{pPtr:0<_classPrivateFieldGet(this,_memory)[r]?a+1:_classPrivateMethodGet(this,_jumpForward,_jumpForward2).call(this,a)});case"]":return _objectSpread(_objectSpread({},e),{},{pPtr:_classPrivateMethodGet(this,_jumpBackward,_jumpBackward2).call(this,a)+1});default:return _objectSpread(_objectSpread({},e),{},{pPtr:a+1})}}function _jumpBackward2(e){for(var t=e-1,r=1;0<r;)"["===_classPrivateFieldGet(this,_program)[t]?--r:"]"===_classPrivateFieldGet(this,_program)[t]&&(r+=1),--t;return t}function _jumpForward2(e){for(var t=e+1,r=1;0<r;)"["===_classPrivateFieldGet(this,_program)[t]?r+=1:"]"===_classPrivateFieldGet(this,_program)[t]&&--r,t+=1;return t}"undefined"!=typeof window&&(window.BQuack=BrainQuack);export default BrainQuack;